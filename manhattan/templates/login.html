{% extends "main_nav.html" %}
{% block content %}
<div class="container">
  	<div class="row">
      <div class="col-md-4 col-md-offset-4">
        <img class="img-circle img-responsive center-block" src="//placehold.it/200">
        <br><br>
      </div>
  	</div>

    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <!-- login form -->
            <div class="well">
                <form name="login_form" role="form">
                    <div id="id_email_absent" class="alert alert-danger" style="display:none;">
                        Please enter an email address
                    </div>

                    <div id="id_email_invalid" class="alert alert-danger" style="display:none;">
                        Please enter a valid email address
                    </div>

                    <div class="form-group">
                      <label class="control-label">E-Mail</label>
                      <input class="form-control" name="email" id="id_email" placeholder="hello@example.com" type="text">
                    </div>

                    <div id="id_password_absent" class="alert alert-danger" style="display:none;">
                        Please enter a password 
                    </div>

                    <div class="form-group">
                      <label for="inputPassword" class="control-label">Password</label>
                      <input class="form-control" name="password" id="id_password" placeholder="******" type="password">
                    </div>

                    <div class="form-group">
                      <button type="button" class="btn btn-primary btn-block" onclick="submit_login();">Login</button>
                    </div>
                
                </form>
            </div>
            
            <!-- sign up form -->
            <div class="well">
                <h3><span class="label label-default">New User?</span></h3>
                
                <form name="signup_form" role="form">
                    <div id="id_signup_error" class="alert alert-danger" style="display:none;">
                        Please fill in all the fields
                    </div>

                    <div class="form-group">
                      <label class="control-label">E-Mail</label>
                      <input class="form-control" name="email" id="id_signup_email" placeholder="hello@example.com" type="text">
                    </div>

                    <div class="form-group">
                      <label class="control-label">First Name</label>
                      <input class="form-control" name="first_name" id="id_signup_first_name" placeholder="first name" type="text">
                    </div>
                    <!--
                    <div class="form-group">
                      <label class="control-label">Last Name</label>
                      <input class="form-control" name="last_name" id="id_signup_last_name" placeholder="last name" type="text">
                    </div>
                    -->
                    <div class="form-group">
                      <label for="inputPassword" class="control-label">Password</label>
                      <input class="form-control" name="password" id="id_signup_password" placeholder="******" type="password">
                    </div>

                    <div class="form-group">
                      <button type="button" class="btn btn-primary btn-block" onclick="submit_signup();">Sign up</button>
                    </div>
                </form>
            </div><!-- end sign up form -->
        </div><!-- end col -->
    </div><!-- end row -->
</div>

<script>
function submit_login()
{
    $('#id_email_absent').hide();
    $('#id_email_invalid').hide();
    $('#id_password_absent').hide();

    email = $('#id_email').val();
    password = $('#id_password').val();

    if(email=="" || email==null){
        $('#id_email_absent').show();
        return;
    }
    
    if (!validate_email()){
        return;
    }

    if(password=="" || passowrd==null){
        $('#id_password_absent').show();
        return;
    }
}

function validate_email()
{
    var x=document.forms["login_form"]["email"].value;
    var atpos=x.indexOf("@");
    var dotpos=x.lastIndexOf(".");
    if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
    {
        $('#id_email_invalid').show()
        return false;
    }
    return true;
}

</script>

{% endblock %}
